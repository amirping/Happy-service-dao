const mongoose=require("mongoose"),db_url=process.env.MONGODB_URI,options={reconnectTries:Number.MAX_VALUE,reconnectInterval:500,poolSize:10,bufferMaxEntries:0};let stats={DB_linked:!1};module.exports={connector:function(){mongoose.connect(db_url,options,function(o){o?console.error(o):console.log("mongo connected")});var o=mongoose.connection;return o.on("error",console.error.bind(console,"connection error:")),o.once("open",function(){stats.DB_linked=!0,console.log("DATABASE [OK]")}),o},stats:stats};